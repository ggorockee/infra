{
  "title": "ReviewMaps Overview",
  "description": "ReviewMaps 서비스 모니터링 대시보드 - Server API & Go-Scraper",
  "tags": ["reviewmaps", "go", "scraper", "api"],
  "widgets": [
    {
      "id": "row-server",
      "title": "Server API",
      "description": "",
      "panelTypes": "row",
      "query": {}
    },
    {
      "id": "http-request-count",
      "title": "HTTP Request Count",
      "description": "HTTP 요청 수",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(rate(http_server_response_size_count[5m])) by (http_method, http_route)",
            "legend": "{{http_method}} {{http_route}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "http-duration-max",
      "title": "HTTP Duration (Max)",
      "description": "HTTP 요청 최대 지연시간",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "max(http_server_duration_max) by (http_method, http_route)",
            "legend": "{{http_method}} {{http_route}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "http-duration-min",
      "title": "HTTP Duration (Min)",
      "description": "HTTP 요청 최소 지연시간",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "min(http_server_duration_min) by (http_method, http_route)",
            "legend": "{{http_method}} {{http_route}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "http-response-size",
      "title": "HTTP Response Size (Total)",
      "description": "HTTP 응답 크기 합계",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(rate(http_server_response_size_sum[5m])) by (http_method, http_route)",
            "legend": "{{http_method}} {{http_route}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "http-request-size",
      "title": "HTTP Request Size (Max/Min)",
      "description": "HTTP 요청 크기",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "Max",
            "query": "max(http_server_request_size_max) by (http_route)",
            "legend": "Max {{http_route}}"
          },
          {
            "name": "Min",
            "query": "min(http_server_request_size_min) by (http_route)",
            "legend": "Min {{http_route}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "row-scraper",
      "title": "Go-Scraper",
      "description": "",
      "panelTypes": "row",
      "query": {}
    },
    {
      "id": "scraper-campaigns-scraped",
      "title": "Campaigns Scraped",
      "description": "수집된 캠페인 수",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(increase(scraper_campaigns_scraped_total[1h])) by (scraper)",
            "legend": "{{scraper}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "scraper-duration",
      "title": "Scrape Duration (seconds)",
      "description": "스크래핑 소요시간",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(scraper_scrape_duration) by (scraper)",
            "legend": "{{scraper}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "scraper-total",
      "title": "Scrape Runs",
      "description": "스크래핑 실행 횟수",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(increase(scraper_scrape_total[24h])) by (scraper)",
            "legend": "{{scraper}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "scraper-errors",
      "title": "Scrape Errors",
      "description": "스크래핑 에러",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(increase(scraper_scrape_errors[24h])) by (scraper)",
            "legend": "{{scraper}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "row-enrich",
      "title": "Enrichment (Geocoding & Cache)",
      "description": "",
      "panelTypes": "row",
      "query": {}
    },
    {
      "id": "enrich-cache-hits",
      "title": "Cache Hits",
      "description": "캐시 히트 수",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(increase(scraper_enrich_cache_hits[1h])) by (scraper)",
            "legend": "{{scraper}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "enrich-api-calls",
      "title": "API Calls (Naver)",
      "description": "네이버 API 호출 수",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(increase(scraper_enrich_api_calls[1h])) by (scraper)",
            "legend": "{{scraper}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "enrich-geocodes",
      "title": "Geocode Operations",
      "description": "지오코딩 작업 수",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(increase(scraper_enrich_geocodes[1h])) by (scraper)",
            "legend": "{{scraper}}"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "row-cleanup",
      "title": "Cleanup Jobs",
      "description": "",
      "panelTypes": "row",
      "query": {}
    },
    {
      "id": "cleanup-deleted",
      "title": "Campaigns Deleted",
      "description": "삭제된 캠페인 수",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(increase(scraper_cleanup_deleted[24h]))",
            "legend": "Deleted"
          }
        ],
        "queryType": "promql"
      }
    },
    {
      "id": "cleanup-duration",
      "title": "Cleanup Duration",
      "description": "정리 작업 소요시간",
      "panelTypes": "graph",
      "query": {
        "promql": [
          {
            "name": "A",
            "query": "sum(scraper_cleanup_duration)",
            "legend": "Duration"
          }
        ],
        "queryType": "promql"
      }
    }
  ],
  "variables": [],
  "version": "v3"
}
