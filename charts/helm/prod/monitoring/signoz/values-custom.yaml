# SigNoz Custom Values for Ojeomneo Project
# Prometheus와 병행 운영을 위한 최소 설정

global:
  storageClass: null  # 기본 스토리지 클래스 사용
  clusterName: "ggorockee-nks"

# ClickHouse 설정 (데이터 저장소)
clickhouse:
  enabled: true
  cluster: cluster
  user: admin
  password: "signoz-ojeomneo-2024"  # 프로덕션용 패스워드 변경

  # 리소스 최적화 (찍먹 단계이므로 최소 리소스)
  resources:
    requests:
      memory: "512Mi"
      cpu: "200m"
    limits:
      memory: "2Gi"
      cpu: "1000m"

  # 스토리지 설정
  persistence:
    enabled: true
    size: 20Gi

  # Zookeeper 설정
  zookeeper:
    enabled: true
    replicaCount: 1
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "500m"

# Frontend (Query Service) 설정
frontend:
  enabled: true
  replicaCount: 1
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "500m"

# Query Service 설정
queryService:
  enabled: true
  replicaCount: 1
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# Alert Manager 설정
alertmanager:
  enabled: true
  replicaCount: 1
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "200m"

# OpenTelemetry Collector 설정
otelCollector:
  enabled: true
  replicaCount: 1
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# OTel Collector Metrics 설정
otelCollectorMetrics:
  enabled: true
  replicaCount: 1
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# Ingress 설정 (UI 접근용)
ingress:
  enabled: false  # 초기에는 port-forward로 테스트
  # 나중에 Ingress 활성화 시 아래 설정 사용
  # className: nginx
  # hosts:
  #   - host: signoz.woohalabs.com
  #     paths:
  #       - path: /
  #         pathType: Prefix

# Redpanda (Kafka 대체) 설정
redpanda:
  enabled: true
  resources:
    requests:
      memory: "512Mi"
      cpu: "200m"
    limits:
      memory: "1Gi"
      cpu: "500m"
  storage:
    persistentVolume:
      enabled: true
      size: 10Gi

# PostgreSQL 설정 (Alert Manager용)
postgresql:
  enabled: true
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "500m"
